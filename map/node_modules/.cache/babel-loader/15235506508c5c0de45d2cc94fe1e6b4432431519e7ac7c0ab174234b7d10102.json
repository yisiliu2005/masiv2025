{"ast":null,"code":"/**\n * Module dependencies.\n */\n\nvar Emitter = require('emitter');\nvar reduce = require('reduce');\n\n/**\n * Root reference for iframes.\n */\n\nvar root = 'undefined' == typeof window ? this : window;\n\n/**\n * Noop.\n */\n\nfunction noop() {}\n;\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * TODO: future proof, move to compoent land\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isHost(obj) {\n  var str = {}.toString.call(obj);\n  switch (str) {\n    case '[object File]':\n    case '[object Blob]':\n    case '[object FormData]':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Determine XHR.\n */\n\nfunction getXHR() {\n  if (root.XMLHttpRequest && ('file:' != root.location.protocol || !root.ActiveXObject)) {\n    return new XMLHttpRequest();\n  } else {\n    try {\n      return new ActiveXObject('Microsoft.XMLHTTP');\n    } catch (e) {}\n    try {\n      return new ActiveXObject('Msxml2.XMLHTTP.6.0');\n    } catch (e) {}\n    try {\n      return new ActiveXObject('Msxml2.XMLHTTP.3.0');\n    } catch (e) {}\n    try {\n      return new ActiveXObject('Msxml2.XMLHTTP');\n    } catch (e) {}\n  }\n  return false;\n}\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim ? function (s) {\n  return s.trim();\n} : function (s) {\n  return s.replace(/(^\\s*|\\s*$)/g, '');\n};\n\n/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    if (null != obj[key]) {\n      pairs.push(encodeURIComponent(key) + '=' + encodeURIComponent(obj[key]));\n    }\n  }\n  return pairs.join('&');\n}\n\n/**\n * Expose serialization method.\n */\n\nrequest.serializeObject = serialize;\n\n/**\n * Parse the given x-www-form-urlencoded `str`.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var parts;\n  var pair;\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    parts = pair.split('=');\n    obj[decodeURIComponent(parts[0])] = decodeURIComponent(parts[1]);\n  }\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'application/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\nrequest.serialize = {\n  'application/x-www-form-urlencoded': serialize,\n  'application/json': JSON.stringify\n};\n\n/**\n * Default parsers.\n *\n *     superagent.parse['application/xml'] = function(str){\n *       return { object parsed from str };\n *     };\n *\n */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n  lines.pop(); // trailing CRLF\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n  return fields;\n}\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction type(str) {\n  return str.split(/ *; */).shift();\n}\n;\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction params(str) {\n  return reduce(str.split(/ *; */), function (obj, str) {\n    var parts = str.split(/ *= */),\n      key = parts.shift(),\n      val = parts.shift();\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n}\n;\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req, options) {\n  options = options || {};\n  this.req = req;\n  this.xhr = this.req.xhr;\n  this.text = this.req.method != 'HEAD' ? this.xhr.responseText : null;\n  this.setStatusProperties(this.xhr.status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this.setHeaderProperties(this.header);\n  this.body = this.req.method != 'HEAD' ? this.parseBody(this.text) : null;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponse.prototype.get = function (field) {\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponse.prototype.setHeaderProperties = function (header) {\n  // content-type\n  var ct = this.header['content-type'] || '';\n  this.type = type(ct);\n\n  // params\n  var obj = params(ct);\n  for (var key in obj) this[key] = obj[key];\n};\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype.parseBody = function (str) {\n  var parse = request.parse[this.type];\n  return parse && str && str.length ? parse(str) : null;\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponse.prototype.setStatusProperties = function (status) {\n  var type = status / 100 | 0;\n\n  // status / class\n  this.status = status;\n  this.statusType = type;\n\n  // basics\n  this.info = 1 == type;\n  this.ok = 2 == type;\n  this.clientError = 4 == type;\n  this.serverError = 5 == type;\n  this.error = 4 == type || 5 == type ? this.toError() : false;\n\n  // sugar\n  this.accepted = 202 == status;\n  this.noContent = 204 == status || 1223 == status;\n  this.badRequest = 400 == status;\n  this.unauthorized = 401 == status;\n  this.notAcceptable = 406 == status;\n  this.notFound = 404 == status;\n  this.forbidden = 403 == status;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function () {\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  Emitter.call(this);\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {};\n  this._header = {};\n  this.on('end', function () {\n    var err = null;\n    var res = null;\n    try {\n      res = new Response(self);\n    } catch (e) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n    }\n    self.callback(err, res);\n  });\n}\n\n/**\n * Mixin `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Allow for extension\n */\n\nRequest.prototype.use = function (fn) {\n  fn(this);\n  return this;\n};\n\n/**\n * Set timeout to `ms`.\n *\n * @param {Number} ms\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.timeout = function (ms) {\n  this._timeout = ms;\n  return this;\n};\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.clearTimeout = function () {\n  this._timeout = 0;\n  clearTimeout(this._timer);\n  return this;\n};\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request}\n * @api public\n */\n\nRequest.prototype.abort = function () {\n  if (this.aborted) return;\n  this.aborted = true;\n  this.xhr.abort();\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.set = function (field, val) {\n  if (isObject(field)) {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n    return this;\n  }\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.unset = function (field) {\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Get case-insensitive header `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api private\n */\n\nRequest.prototype.getHeader = function (field) {\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function (type) {\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function (type) {\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} pass\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function (user, pass) {\n  var str = btoa(user + ':' + pass);\n  this.set('Authorization', 'Basic ' + str);\n  return this;\n};\n\n/**\n* Add query-string `val`.\n*\n* Examples:\n*\n*   request.get('/shoes')\n*     .query('size=10')\n*     .query({ color: 'blue' })\n*\n* @param {Object|String} val\n* @return {Request} for chaining\n* @api public\n*/\n\nRequest.prototype.query = function (val) {\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Write the field `name` and `val` for \"multipart/form-data\"\n * request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n * ```\n *\n * @param {String} name\n * @param {String|Blob|File} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.field = function (name, val) {\n  if (!this._formData) this._formData = new FormData();\n  this._formData.append(name, val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `filename`.\n *\n * ``` js\n * request.post('/upload')\n *   .attach(new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String} filename\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function (field, file, filename) {\n  if (!this._formData) this._formData = new FormData();\n  this._formData.append(field, file, filename);\n  return this;\n};\n\n/**\n * Send `data`, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // querystring\n *       request.get('/search')\n *         .end(callback)\n *\n *       // multiple data \"writes\"\n *       request.get('/search')\n *         .send({ search: 'query' })\n *         .send({ range: '1..5' })\n *         .send({ order: 'desc' })\n *         .end(callback)\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"})\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n  *      request.post('/user')\n  *        .send('name=tobi')\n  *        .send('species=ferret')\n  *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.send = function (data) {\n  var obj = isObject(data);\n  var type = this.getHeader('Content-Type');\n\n  // merge\n  if (obj && isObject(this._data)) {\n    for (var key in data) {\n      this._data[key] = data[key];\n    }\n  } else if ('string' == typeof data) {\n    if (!type) this.type('form');\n    type = this.getHeader('Content-Type');\n    if ('application/x-www-form-urlencoded' == type) {\n      this._data = this._data ? this._data + '&' + data : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n  if (!obj) return this;\n  if (!type) this.type('json');\n  return this;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function (err, res) {\n  var fn = this._callback;\n  this.clearTimeout();\n  if (2 == fn.length) return fn(err, res);\n  if (err) return this.emit('error', err);\n  fn(res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function () {\n  var err = new Error('Origin is not allowed by Access-Control-Allow-Origin');\n  err.crossDomain = true;\n  this.callback(err);\n};\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequest.prototype.timeoutError = function () {\n  var timeout = this._timeout;\n  var err = new Error('timeout of ' + timeout + 'ms exceeded');\n  err.timeout = timeout;\n  this.callback(err);\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nRequest.prototype.withCredentials = function () {\n  this._withCredentials = true;\n  return this;\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function (fn) {\n  var self = this;\n  var xhr = this.xhr = getXHR();\n  var query = this._query.join('&');\n  var timeout = this._timeout;\n  var data = this._formData || this._data;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // state change\n  xhr.onreadystatechange = function () {\n    if (4 != xhr.readyState) return;\n    if (0 == xhr.status) {\n      if (self.aborted) return self.timeoutError();\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  if (xhr.upload) {\n    xhr.upload.onprogress = function (e) {\n      e.percent = e.loaded / e.total * 100;\n      self.emit('progress', e);\n    };\n  }\n\n  // timeout\n  if (timeout && !this._timer) {\n    this._timer = setTimeout(function () {\n      self.abort();\n    }, timeout);\n  }\n\n  // querystring\n  if (query) {\n    query = request.serializeObject(query);\n    this.url += ~this.url.indexOf('?') ? '&' + query : '?' + query;\n  }\n\n  // initiate request\n  xhr.open(this.method, this.url, true);\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !isHost(data)) {\n    // serialize stuff\n    var serialize = request.serialize[this.getHeader('Content-Type')];\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n    xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  // send stuff\n  this.emit('request', this);\n  xhr.send(data);\n  return this;\n};\n\n/**\n * Expose `Request`.\n */\n\nrequest.Request = Request;\n\n/**\n * Issue a request:\n *\n * Examples:\n *\n *    request('GET', '/users').end(callback)\n *    request('/users').end(callback)\n *    request('/users', callback)\n *\n * @param {String} method\n * @param {String|Function} url or callback\n * @return {Request}\n * @api public\n */\n\nfunction request(method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new Request('GET', method).end(url);\n  }\n\n  // url first\n  if (1 == arguments.length) {\n    return new Request('GET', method);\n  }\n  return new Request(method, url);\n}\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.get = function (url, data, fn) {\n  var req = request('GET', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.head = function (url, data, fn) {\n  var req = request('HEAD', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.del = function (url, fn) {\n  var req = request('DELETE', url);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function (url, data, fn) {\n  var req = request('PATCH', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.post = function (url, data, fn) {\n  var req = request('POST', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.put = function (url, data, fn) {\n  var req = request('PUT', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * Expose `request`.\n */\n\nmodule.exports = request;","map":{"version":3,"names":["Emitter","require","reduce","root","window","noop","isHost","obj","str","toString","call","getXHR","XMLHttpRequest","location","protocol","ActiveXObject","e","trim","s","replace","isObject","Object","serialize","pairs","key","push","encodeURIComponent","join","request","serializeObject","parseString","split","parts","pair","i","len","length","decodeURIComponent","types","html","json","xml","urlencoded","JSON","stringify","parse","parseHeader","lines","fields","index","line","field","val","pop","indexOf","slice","toLowerCase","type","shift","params","Response","req","options","xhr","text","method","responseText","setStatusProperties","status","header","headers","getAllResponseHeaders","getResponseHeader","setHeaderProperties","body","parseBody","prototype","get","ct","statusType","info","ok","clientError","serverError","error","toError","accepted","noContent","badRequest","unauthorized","notAcceptable","notFound","forbidden","url","msg","err","Error","Request","self","_query","_header","on","res","original","callback","use","fn","timeout","ms","_timeout","clearTimeout","_timer","abort","aborted","emit","set","unset","getHeader","accept","auth","user","pass","btoa","query","name","_formData","FormData","append","attach","file","filename","send","data","_data","_callback","crossDomainError","crossDomain","timeoutError","withCredentials","_withCredentials","end","onreadystatechange","readyState","upload","onprogress","percent","loaded","total","setTimeout","open","setRequestHeader","arguments","head","del","patch","post","put","module","exports"],"sources":["/Users/yisiliu/development/MASIV2025InternTest/map/node_modules/superagent/lib/client.js"],"sourcesContent":["/**\n * Module dependencies.\n */\n\nvar Emitter = require('emitter');\nvar reduce = require('reduce');\n\n/**\n * Root reference for iframes.\n */\n\nvar root = 'undefined' == typeof window\n  ? this\n  : window;\n\n/**\n * Noop.\n */\n\nfunction noop(){};\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * TODO: future proof, move to compoent land\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isHost(obj) {\n  var str = {}.toString.call(obj);\n\n  switch (str) {\n    case '[object File]':\n    case '[object Blob]':\n    case '[object FormData]':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Determine XHR.\n */\n\nfunction getXHR() {\n  if (root.XMLHttpRequest\n    && ('file:' != root.location.protocol || !root.ActiveXObject)) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  return false;\n}\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim\n  ? function(s) { return s.trim(); }\n  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    if (null != obj[key]) {\n      pairs.push(encodeURIComponent(key)\n        + '=' + encodeURIComponent(obj[key]));\n    }\n  }\n  return pairs.join('&');\n}\n\n/**\n * Expose serialization method.\n */\n\n request.serializeObject = serialize;\n\n /**\n  * Parse the given x-www-form-urlencoded `str`.\n  *\n  * @param {String} str\n  * @return {Object}\n  * @api private\n  */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var parts;\n  var pair;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    parts = pair.split('=');\n    obj[decodeURIComponent(parts[0])] = decodeURIComponent(parts[1]);\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'application/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\n request.serialize = {\n   'application/x-www-form-urlencoded': serialize,\n   'application/json': JSON.stringify\n };\n\n /**\n  * Default parsers.\n  *\n  *     superagent.parse['application/xml'] = function(str){\n  *       return { object parsed from str };\n  *     };\n  *\n  */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  lines.pop(); // trailing CRLF\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction type(str){\n  return str.split(/ *; */).shift();\n};\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction params(str){\n  return reduce(str.split(/ *; */), function(obj, str){\n    var parts = str.split(/ *= */)\n      , key = parts.shift()\n      , val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req, options) {\n  options = options || {};\n  this.req = req;\n  this.xhr = this.req.xhr;\n  this.text = this.req.method !='HEAD' \n     ? this.xhr.responseText \n     : null;\n  this.setStatusProperties(this.xhr.status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this.setHeaderProperties(this.header);\n  this.body = this.req.method != 'HEAD'\n    ? this.parseBody(this.text)\n    : null;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponse.prototype.get = function(field){\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponse.prototype.setHeaderProperties = function(header){\n  // content-type\n  var ct = this.header['content-type'] || '';\n  this.type = type(ct);\n\n  // params\n  var obj = params(ct);\n  for (var key in obj) this[key] = obj[key];\n};\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype.parseBody = function(str){\n  var parse = request.parse[this.type];\n  return parse && str && str.length\n    ? parse(str)\n    : null;\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponse.prototype.setStatusProperties = function(status){\n  var type = status / 100 | 0;\n\n  // status / class\n  this.status = status;\n  this.statusType = type;\n\n  // basics\n  this.info = 1 == type;\n  this.ok = 2 == type;\n  this.clientError = 4 == type;\n  this.serverError = 5 == type;\n  this.error = (4 == type || 5 == type)\n    ? this.toError()\n    : false;\n\n  // sugar\n  this.accepted = 202 == status;\n  this.noContent = 204 == status || 1223 == status;\n  this.badRequest = 400 == status;\n  this.unauthorized = 401 == status;\n  this.notAcceptable = 406 == status;\n  this.notFound = 404 == status;\n  this.forbidden = 403 == status;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function(){\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  Emitter.call(this);\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {};\n  this._header = {};\n  this.on('end', function(){\n    var err = null;\n    var res = null;\n\n    try {\n      res = new Response(self); \n    } catch(e) {\n      err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n    }\n\n    self.callback(err, res);\n  });\n}\n\n/**\n * Mixin `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Allow for extension\n */\n\nRequest.prototype.use = function(fn) {\n  fn(this);\n  return this;\n}\n\n/**\n * Set timeout to `ms`.\n *\n * @param {Number} ms\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.timeout = function(ms){\n  this._timeout = ms;\n  return this;\n};\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.clearTimeout = function(){\n  this._timeout = 0;\n  clearTimeout(this._timer);\n  return this;\n};\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request}\n * @api public\n */\n\nRequest.prototype.abort = function(){\n  if (this.aborted) return;\n  this.aborted = true;\n  this.xhr.abort();\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.set = function(field, val){\n  if (isObject(field)) {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n    return this;\n  }\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.unset = function(field){\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Get case-insensitive header `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api private\n */\n\nRequest.prototype.getHeader = function(field){\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type){\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type){\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} pass\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass){\n  var str = btoa(user + ':' + pass);\n  this.set('Authorization', 'Basic ' + str);\n  return this;\n};\n\n/**\n* Add query-string `val`.\n*\n* Examples:\n*\n*   request.get('/shoes')\n*     .query('size=10')\n*     .query({ color: 'blue' })\n*\n* @param {Object|String} val\n* @return {Request} for chaining\n* @api public\n*/\n\nRequest.prototype.query = function(val){\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Write the field `name` and `val` for \"multipart/form-data\"\n * request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n * ```\n *\n * @param {String} name\n * @param {String|Blob|File} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.field = function(name, val){\n  if (!this._formData) this._formData = new FormData();\n  this._formData.append(name, val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `filename`.\n *\n * ``` js\n * request.post('/upload')\n *   .attach(new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String} filename\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, filename){\n  if (!this._formData) this._formData = new FormData();\n  this._formData.append(field, file, filename);\n  return this;\n};\n\n/**\n * Send `data`, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // querystring\n *       request.get('/search')\n *         .end(callback)\n *\n *       // multiple data \"writes\"\n *       request.get('/search')\n *         .send({ search: 'query' })\n *         .send({ range: '1..5' })\n *         .send({ order: 'desc' })\n *         .end(callback)\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"})\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n  *      request.post('/user')\n  *        .send('name=tobi')\n  *        .send('species=ferret')\n  *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.send = function(data){\n  var obj = isObject(data);\n  var type = this.getHeader('Content-Type');\n\n  // merge\n  if (obj && isObject(this._data)) {\n    for (var key in data) {\n      this._data[key] = data[key];\n    }\n  } else if ('string' == typeof data) {\n    if (!type) this.type('form');\n    type = this.getHeader('Content-Type');\n    if ('application/x-www-form-urlencoded' == type) {\n      this._data = this._data\n        ? this._data + '&' + data\n        : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!obj) return this;\n  if (!type) this.type('json');\n  return this;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res){\n  var fn = this._callback;\n  this.clearTimeout();\n  if (2 == fn.length) return fn(err, res);\n  if (err) return this.emit('error', err);\n  fn(res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function(){\n  var err = new Error('Origin is not allowed by Access-Control-Allow-Origin');\n  err.crossDomain = true;\n  this.callback(err);\n};\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequest.prototype.timeoutError = function(){\n  var timeout = this._timeout;\n  var err = new Error('timeout of ' + timeout + 'ms exceeded');\n  err.timeout = timeout;\n  this.callback(err);\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nRequest.prototype.withCredentials = function(){\n  this._withCredentials = true;\n  return this;\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn){\n  var self = this;\n  var xhr = this.xhr = getXHR();\n  var query = this._query.join('&');\n  var timeout = this._timeout;\n  var data = this._formData || this._data;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // state change\n  xhr.onreadystatechange = function(){\n    if (4 != xhr.readyState) return;\n    if (0 == xhr.status) {\n      if (self.aborted) return self.timeoutError();\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  if (xhr.upload) {\n    xhr.upload.onprogress = function(e){\n      e.percent = e.loaded / e.total * 100;\n      self.emit('progress', e);\n    };\n  }\n\n  // timeout\n  if (timeout && !this._timer) {\n    this._timer = setTimeout(function(){\n      self.abort();\n    }, timeout);\n  }\n\n  // querystring\n  if (query) {\n    query = request.serializeObject(query);\n    this.url += ~this.url.indexOf('?')\n      ? '&' + query\n      : '?' + query;\n  }\n\n  // initiate request\n  xhr.open(this.method, this.url, true);\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !isHost(data)) {\n    // serialize stuff\n    var serialize = request.serialize[this.getHeader('Content-Type')];\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n    xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  // send stuff\n  this.emit('request', this);\n  xhr.send(data);\n  return this;\n};\n\n/**\n * Expose `Request`.\n */\n\nrequest.Request = Request;\n\n/**\n * Issue a request:\n *\n * Examples:\n *\n *    request('GET', '/users').end(callback)\n *    request('/users').end(callback)\n *    request('/users', callback)\n *\n * @param {String} method\n * @param {String|Function} url or callback\n * @return {Request}\n * @api public\n */\n\nfunction request(method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new Request('GET', method).end(url);\n  }\n\n  // url first\n  if (1 == arguments.length) {\n    return new Request('GET', method);\n  }\n\n  return new Request(method, url);\n}\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.get = function(url, data, fn){\n  var req = request('GET', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.head = function(url, data, fn){\n  var req = request('HEAD', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.del = function(url, fn){\n  var req = request('DELETE', url);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function(url, data, fn){\n  var req = request('PATCH', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.post = function(url, data, fn){\n  var req = request('POST', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.put = function(url, data, fn){\n  var req = request('PUT', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * Expose `request`.\n */\n\nmodule.exports = request;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}