{"ast":null,"code":"var _jsxFileName = \"/Users/yisiliu/development/MASIV2025InternTest/map/src/components/QueryPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { queryBuildings } from '../services/api';\nimport './QueryPanel.css';\n\n/**\n * Query panel for natural language queries\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QueryPanel = ({\n  onQueryResult,\n  buildings\n}) => {\n  _s();\n  const [query, setQuery] = useState('');\n  const [apiKey, setApiKey] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [lastResult, setLastResult] = useState(null);\n  const [error, setError] = useState(null);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!query.trim()) return;\n    setLoading(true);\n    setError(null);\n    const result = await queryBuildings(query, apiKey || undefined);\n    setLoading(false);\n    if (result.error) {\n      setError(result.error);\n      setLastResult(null);\n    } else {\n      setLastResult(result);\n      onQueryResult(result.matching_ids);\n    }\n  };\n  const handleClear = () => {\n    setQuery('');\n    setLastResult(null);\n    setError(null);\n    onQueryResult([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"query-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"query-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Query Buildings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ask about buildings using natural language\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"query-form\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"query-input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: query,\n          onChange: e => setQuery(e.target.value),\n          placeholder: \"e.g., 'buildings over 100 feet' or 'commercial buildings'\",\n          disabled: loading,\n          className: \"query-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading || !query.trim(),\n          className: \"query-button\",\n          children: loading ? 'Searching...' : 'Search'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"query-error\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Error:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), \" \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), lastResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"query-result\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-summary\",\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"Found \", lastResult.matching_ids.length, \" buildings\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), lastResult.filter_parsed && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-details\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Filter: \", /*#__PURE__*/_jsxDEV(\"code\", {\n            children: lastResult.filter_parsed.attribute\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), \" \", lastResult.filter_parsed.operator, ' ', /*#__PURE__*/_jsxDEV(\"code\", {\n            children: lastResult.filter_parsed.value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClear,\n        className: \"clear-button\",\n        children: \"Clear Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"example-queries\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Example Queries:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\\"Buildings over 100 feet tall\\\"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\\"Commercial buildings\\\"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\\"Buildings built after 2010\\\"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\\"Buildings worth more than $1 million\\\"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(QueryPanel, \"3lMRV/J4ntV8YDcnPIKnBnAlUIQ=\");\n_c = QueryPanel;\nexport default QueryPanel;\nvar _c;\n$RefreshReg$(_c, \"QueryPanel\");","map":{"version":3,"names":["React","useState","queryBuildings","jsxDEV","_jsxDEV","QueryPanel","onQueryResult","buildings","_s","query","setQuery","apiKey","setApiKey","loading","setLoading","lastResult","setLastResult","error","setError","handleSubmit","e","preventDefault","trim","result","undefined","matching_ids","handleClear","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","disabled","length","filter_parsed","attribute","operator","onClick","_c","$RefreshReg$"],"sources":["/Users/yisiliu/development/MASIV2025InternTest/map/src/components/QueryPanel.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { queryBuildings } from '../services/api';\nimport './QueryPanel.css';\n\n/**\n * Query panel for natural language queries\n */\nconst QueryPanel = ({ onQueryResult, buildings }) => {\n  const [query, setQuery] = useState('');\n  const [apiKey, setApiKey] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [lastResult, setLastResult] = useState(null);\n  const [error, setError] = useState(null);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!query.trim()) return;\n\n    setLoading(true);\n    setError(null);\n\n    const result = await queryBuildings(query, apiKey || undefined);\n\n    setLoading(false);\n\n    if (result.error) {\n      setError(result.error);\n      setLastResult(null);\n    } else {\n      setLastResult(result);\n      onQueryResult(result.matching_ids);\n    }\n  };\n\n  const handleClear = () => {\n    setQuery('');\n    setLastResult(null);\n    setError(null);\n    onQueryResult([]);\n  };\n\n  return (\n    <div className=\"query-panel\">\n      <div className=\"query-header\">\n        <h2>Query Buildings</h2>\n        <p>Ask about buildings using natural language</p>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"query-form\">\n        <div className=\"query-input-group\">\n          <input\n            type=\"text\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            placeholder=\"e.g., 'buildings over 100 feet' or 'commercial buildings'\"\n            disabled={loading}\n            className=\"query-input\"\n          />\n          <button type=\"submit\" disabled={loading || !query.trim()} className=\"query-button\">\n            {loading ? 'Searching...' : 'Search'}\n          </button>\n        </div>\n      </form>\n\n      {error && (\n        <div className=\"query-error\">\n          <strong>Error:</strong> {error}\n        </div>\n      )}\n\n      {lastResult && (\n        <div className=\"query-result\">\n          <div className=\"result-summary\">\n            <strong>Found {lastResult.matching_ids.length} buildings</strong>\n          </div>\n\n          {lastResult.filter_parsed && (\n            <div className=\"filter-details\">\n              <p>\n                Filter: <code>{lastResult.filter_parsed.attribute}</code> {lastResult.filter_parsed.operator}{' '}\n                <code>{lastResult.filter_parsed.value}</code>\n              </p>\n            </div>\n          )}\n\n          <button onClick={handleClear} className=\"clear-button\">\n            Clear Results\n          </button>\n        </div>\n      )}\n\n      <div className=\"example-queries\">\n        <h3>Example Queries:</h3>\n        <ul>\n          <li>\"Buildings over 100 feet tall\"</li>\n          <li>\"Commercial buildings\"</li>\n          <li>\"Buildings built after 2010\"</li>\n          <li>\"Buildings worth more than $1 million\"</li>\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default QueryPanel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}